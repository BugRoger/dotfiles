#!/bin/bash
#
# Installs Homebrew and formulae/casks used by these dotfiles.

set -e

# Install Homebrew if not present
if ! command -v brew &>/dev/null; then
  echo "Installing Homebrew..."
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  eval "$(/opt/homebrew/bin/brew shellenv)"
fi

echo "Updating Homebrew..."
brew update

# Core tools
brew install fish
brew install git
brew install gh
brew install coreutils
brew install jq
brew install eza
brew install procs

# Development
brew install go

# Kubernetes / Infrastructure
brew install sops
brew install age

# Utilities
brew install zoxide
brew install steipete/tap/remindctl

# Casks
brew install --cask 1password
brew install --cask 1password-cli
brew install --cask font-hack-nerd-font

echo "Done. You may need to restart your shell."
